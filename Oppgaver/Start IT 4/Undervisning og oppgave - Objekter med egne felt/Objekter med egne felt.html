<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Objekter med egne felt</title>
</head>
<style>
    table,
    tr,
    td,
    th {
        border: 1px solid black;
        border-collapse: collapse;
        padding: 4px;
    }
    
    td.input {
        text-align: center;
    }
    
    th {
        background-color: rgb(8, 8, 160);
        color: rgb(248, 238, 238);
    }
</style>

<body>
    <table id="tasksTable">

    </table>
    <p>
        <input id="taskDescription" type="text" /><button onclick="addTask()">Legg til ny oppgave</button>
    </p>


    <script>
        //Model
        var tasks = [{
                description: "Handle til middag",
                isDone: true
            }, {
                description: "Lage middag",
                isDone: false
            }, {
                description: "Spise middag",
                isDone: false
            }, {
                description: "Spise dessert",
                isDone: false
            },

        ];


        //Controller
        function addTask() {
            var taskDescriptionInput = document.getElementById("taskDescription");

            function addTask() {
                tasks.push({
                    description: taskDescriptionInput.value,
                    isDone: false
                });
                taskDescriptionInput.value = "";
                show();
            }

        }
        //View
        var tasksTable = document.getElementById("tasksTable");
        show();

        function show() {
            let html = `
            <tr>
            <th>Oppgave</th>
            <th>Gjort</th>
        </tr>`;
            for (let task of tasks) {
                const checkedHtml = task.isDone ? "checked='checked'" : "";
                html += `<tr>
            <td>${task.description}</td>
           <td><input type="checkbox" ${checkedHtml}/></td>
        </tr>

   `;
            }
            tasksTable.innerHTML = html;
        }
    </script>
</body>

</html>